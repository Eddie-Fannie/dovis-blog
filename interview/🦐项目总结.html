<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>🦐皮项目总结 | Dovis&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/dovis-blog/logo.jpeg">
    <link rel="apple-touch-icon" href="/dovis-blog/logo.jpeg">
    <link rel="mask-icon" href="/dovis-blog/logo.jpeg" color="#3eaf7c">
    <meta name="description" content="前端学习,天道酬勤">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="expires" cotent="0">
    <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    
    <link rel="preload" href="/dovis-blog/assets/css/0.styles.65ab5e54.css" as="style"><link rel="preload" href="/dovis-blog/assets/js/app.5feaa36d.js" as="script"><link rel="preload" href="/dovis-blog/assets/js/2.f47a1dbb.js" as="script"><link rel="preload" href="/dovis-blog/assets/js/239.2784da36.js" as="script"><link rel="prefetch" href="/dovis-blog/assets/js/10.2d8ec507.js"><link rel="prefetch" href="/dovis-blog/assets/js/100.a26721dd.js"><link rel="prefetch" href="/dovis-blog/assets/js/101.06d35d63.js"><link rel="prefetch" href="/dovis-blog/assets/js/102.18051e19.js"><link rel="prefetch" href="/dovis-blog/assets/js/103.d072fdcc.js"><link rel="prefetch" href="/dovis-blog/assets/js/104.71bb04d0.js"><link rel="prefetch" href="/dovis-blog/assets/js/105.b9cf7e29.js"><link rel="prefetch" href="/dovis-blog/assets/js/106.2d3aedf7.js"><link rel="prefetch" href="/dovis-blog/assets/js/107.b7e8c2f1.js"><link rel="prefetch" href="/dovis-blog/assets/js/108.d54741b0.js"><link rel="prefetch" href="/dovis-blog/assets/js/109.f9e772f7.js"><link rel="prefetch" href="/dovis-blog/assets/js/11.e9c973a2.js"><link rel="prefetch" href="/dovis-blog/assets/js/110.13470046.js"><link rel="prefetch" href="/dovis-blog/assets/js/111.97bb3bac.js"><link rel="prefetch" href="/dovis-blog/assets/js/112.6437605a.js"><link rel="prefetch" href="/dovis-blog/assets/js/113.f2da85fc.js"><link rel="prefetch" href="/dovis-blog/assets/js/114.f3403af1.js"><link rel="prefetch" href="/dovis-blog/assets/js/115.68b73f8d.js"><link rel="prefetch" href="/dovis-blog/assets/js/116.aebdea1f.js"><link rel="prefetch" href="/dovis-blog/assets/js/117.5828e0f9.js"><link rel="prefetch" href="/dovis-blog/assets/js/118.45807ecb.js"><link rel="prefetch" href="/dovis-blog/assets/js/119.cd448c99.js"><link rel="prefetch" href="/dovis-blog/assets/js/12.35e936e5.js"><link rel="prefetch" href="/dovis-blog/assets/js/120.f5bc6d57.js"><link rel="prefetch" href="/dovis-blog/assets/js/121.54e3f9eb.js"><link rel="prefetch" href="/dovis-blog/assets/js/122.89392a6d.js"><link rel="prefetch" href="/dovis-blog/assets/js/123.90c34329.js"><link rel="prefetch" href="/dovis-blog/assets/js/124.f9b1b48b.js"><link rel="prefetch" href="/dovis-blog/assets/js/125.6b0036cd.js"><link rel="prefetch" href="/dovis-blog/assets/js/126.db023ab6.js"><link rel="prefetch" href="/dovis-blog/assets/js/127.77109d4b.js"><link rel="prefetch" href="/dovis-blog/assets/js/128.6902351a.js"><link rel="prefetch" href="/dovis-blog/assets/js/129.e325bf82.js"><link rel="prefetch" href="/dovis-blog/assets/js/13.48e03b12.js"><link rel="prefetch" href="/dovis-blog/assets/js/130.f18233ba.js"><link rel="prefetch" href="/dovis-blog/assets/js/131.8ecc9bf0.js"><link rel="prefetch" href="/dovis-blog/assets/js/132.53053fa3.js"><link rel="prefetch" href="/dovis-blog/assets/js/133.c88847a1.js"><link rel="prefetch" href="/dovis-blog/assets/js/134.b41f7269.js"><link rel="prefetch" href="/dovis-blog/assets/js/135.9d39a008.js"><link rel="prefetch" href="/dovis-blog/assets/js/136.f46fa1eb.js"><link rel="prefetch" href="/dovis-blog/assets/js/137.cae7a2ee.js"><link rel="prefetch" href="/dovis-blog/assets/js/138.c0a73569.js"><link rel="prefetch" href="/dovis-blog/assets/js/139.ff9c7d4f.js"><link rel="prefetch" href="/dovis-blog/assets/js/14.6fcabd3f.js"><link rel="prefetch" href="/dovis-blog/assets/js/140.52bcc4fb.js"><link rel="prefetch" href="/dovis-blog/assets/js/141.a1eff505.js"><link rel="prefetch" href="/dovis-blog/assets/js/142.83881ff1.js"><link rel="prefetch" href="/dovis-blog/assets/js/143.c80ea43a.js"><link rel="prefetch" href="/dovis-blog/assets/js/144.116c4d86.js"><link rel="prefetch" href="/dovis-blog/assets/js/145.2e91eb7b.js"><link rel="prefetch" href="/dovis-blog/assets/js/146.6c7f2e28.js"><link rel="prefetch" href="/dovis-blog/assets/js/147.9e9ca4bf.js"><link rel="prefetch" href="/dovis-blog/assets/js/148.5d61d604.js"><link rel="prefetch" href="/dovis-blog/assets/js/149.768b1fce.js"><link rel="prefetch" href="/dovis-blog/assets/js/15.bc3decf4.js"><link rel="prefetch" href="/dovis-blog/assets/js/150.f4d9bf5d.js"><link rel="prefetch" href="/dovis-blog/assets/js/151.04ae5620.js"><link rel="prefetch" href="/dovis-blog/assets/js/152.bdd90385.js"><link rel="prefetch" href="/dovis-blog/assets/js/153.32e59685.js"><link rel="prefetch" href="/dovis-blog/assets/js/154.498a36c3.js"><link rel="prefetch" href="/dovis-blog/assets/js/155.27e02bd9.js"><link rel="prefetch" href="/dovis-blog/assets/js/156.cb5ad68a.js"><link rel="prefetch" href="/dovis-blog/assets/js/157.c1fd092b.js"><link rel="prefetch" href="/dovis-blog/assets/js/158.cc839e54.js"><link rel="prefetch" href="/dovis-blog/assets/js/159.a1f169a4.js"><link rel="prefetch" href="/dovis-blog/assets/js/16.a5fc2e3f.js"><link rel="prefetch" href="/dovis-blog/assets/js/160.7b178391.js"><link rel="prefetch" href="/dovis-blog/assets/js/161.d4860e0b.js"><link rel="prefetch" href="/dovis-blog/assets/js/162.c189c373.js"><link rel="prefetch" href="/dovis-blog/assets/js/163.5c704fa3.js"><link rel="prefetch" href="/dovis-blog/assets/js/164.c5fab1c2.js"><link rel="prefetch" href="/dovis-blog/assets/js/165.cdfb554d.js"><link rel="prefetch" href="/dovis-blog/assets/js/166.f45240bb.js"><link rel="prefetch" href="/dovis-blog/assets/js/167.d8f82c35.js"><link rel="prefetch" href="/dovis-blog/assets/js/168.8bb48b52.js"><link rel="prefetch" href="/dovis-blog/assets/js/169.6364746b.js"><link rel="prefetch" href="/dovis-blog/assets/js/17.b0cc39c8.js"><link rel="prefetch" href="/dovis-blog/assets/js/170.ebdc30f5.js"><link rel="prefetch" href="/dovis-blog/assets/js/171.08f43a09.js"><link rel="prefetch" href="/dovis-blog/assets/js/172.6382a314.js"><link rel="prefetch" href="/dovis-blog/assets/js/173.5524346d.js"><link rel="prefetch" href="/dovis-blog/assets/js/174.f2d10c1c.js"><link rel="prefetch" href="/dovis-blog/assets/js/175.f0c243e8.js"><link rel="prefetch" href="/dovis-blog/assets/js/176.c52eb179.js"><link rel="prefetch" href="/dovis-blog/assets/js/177.c35dcf08.js"><link rel="prefetch" href="/dovis-blog/assets/js/178.d6d1ee1f.js"><link rel="prefetch" href="/dovis-blog/assets/js/179.69b6aa6b.js"><link rel="prefetch" href="/dovis-blog/assets/js/18.42904867.js"><link rel="prefetch" href="/dovis-blog/assets/js/180.461ecb79.js"><link rel="prefetch" href="/dovis-blog/assets/js/181.d5ce6a61.js"><link rel="prefetch" href="/dovis-blog/assets/js/182.a1b62b6b.js"><link rel="prefetch" href="/dovis-blog/assets/js/183.ffc514d1.js"><link rel="prefetch" href="/dovis-blog/assets/js/184.3e2c3064.js"><link rel="prefetch" href="/dovis-blog/assets/js/185.a08f12b5.js"><link rel="prefetch" href="/dovis-blog/assets/js/186.8ed5d9a5.js"><link rel="prefetch" href="/dovis-blog/assets/js/187.215d1128.js"><link rel="prefetch" href="/dovis-blog/assets/js/188.ffcebbd6.js"><link rel="prefetch" href="/dovis-blog/assets/js/189.adc3c0a1.js"><link rel="prefetch" href="/dovis-blog/assets/js/19.8b8936be.js"><link rel="prefetch" href="/dovis-blog/assets/js/190.8d828a7a.js"><link rel="prefetch" href="/dovis-blog/assets/js/191.d5d582f2.js"><link rel="prefetch" href="/dovis-blog/assets/js/192.7e625889.js"><link rel="prefetch" href="/dovis-blog/assets/js/193.255eb7df.js"><link rel="prefetch" href="/dovis-blog/assets/js/194.c1ca1106.js"><link rel="prefetch" href="/dovis-blog/assets/js/195.7d02d635.js"><link rel="prefetch" href="/dovis-blog/assets/js/196.908d7957.js"><link rel="prefetch" href="/dovis-blog/assets/js/197.edef8604.js"><link rel="prefetch" href="/dovis-blog/assets/js/198.52b85677.js"><link rel="prefetch" href="/dovis-blog/assets/js/199.967b509d.js"><link rel="prefetch" href="/dovis-blog/assets/js/20.229adabd.js"><link rel="prefetch" href="/dovis-blog/assets/js/200.b220a1d0.js"><link rel="prefetch" href="/dovis-blog/assets/js/201.73e394ec.js"><link rel="prefetch" href="/dovis-blog/assets/js/202.7fd2532e.js"><link rel="prefetch" href="/dovis-blog/assets/js/203.d623842a.js"><link rel="prefetch" href="/dovis-blog/assets/js/204.1f492237.js"><link rel="prefetch" href="/dovis-blog/assets/js/205.a1536a05.js"><link rel="prefetch" href="/dovis-blog/assets/js/206.0d4242f4.js"><link rel="prefetch" href="/dovis-blog/assets/js/207.284c84b5.js"><link rel="prefetch" href="/dovis-blog/assets/js/208.b5964bfc.js"><link rel="prefetch" href="/dovis-blog/assets/js/209.b979dfd3.js"><link rel="prefetch" href="/dovis-blog/assets/js/21.2881b037.js"><link rel="prefetch" href="/dovis-blog/assets/js/210.8ccfc5b9.js"><link rel="prefetch" href="/dovis-blog/assets/js/211.f56ea545.js"><link rel="prefetch" href="/dovis-blog/assets/js/212.0084f990.js"><link rel="prefetch" href="/dovis-blog/assets/js/213.0b52c9b3.js"><link rel="prefetch" href="/dovis-blog/assets/js/214.f3db1cc1.js"><link rel="prefetch" href="/dovis-blog/assets/js/215.05232ec4.js"><link rel="prefetch" href="/dovis-blog/assets/js/216.f281a85a.js"><link rel="prefetch" href="/dovis-blog/assets/js/217.75da7002.js"><link rel="prefetch" href="/dovis-blog/assets/js/218.680b30ec.js"><link rel="prefetch" href="/dovis-blog/assets/js/219.21e0be9d.js"><link rel="prefetch" href="/dovis-blog/assets/js/22.e4d0a535.js"><link rel="prefetch" href="/dovis-blog/assets/js/220.68f5399d.js"><link rel="prefetch" href="/dovis-blog/assets/js/221.95b78414.js"><link rel="prefetch" href="/dovis-blog/assets/js/222.e9247b09.js"><link rel="prefetch" href="/dovis-blog/assets/js/223.f82f654f.js"><link rel="prefetch" href="/dovis-blog/assets/js/224.fc4aa92a.js"><link rel="prefetch" href="/dovis-blog/assets/js/225.268c8191.js"><link rel="prefetch" href="/dovis-blog/assets/js/226.6e2c81c1.js"><link rel="prefetch" href="/dovis-blog/assets/js/227.ca8fac49.js"><link rel="prefetch" href="/dovis-blog/assets/js/228.d28defd7.js"><link rel="prefetch" href="/dovis-blog/assets/js/229.215e4ae7.js"><link rel="prefetch" href="/dovis-blog/assets/js/23.1e725e04.js"><link rel="prefetch" href="/dovis-blog/assets/js/230.ae5ddb3e.js"><link rel="prefetch" href="/dovis-blog/assets/js/231.347db85f.js"><link rel="prefetch" href="/dovis-blog/assets/js/232.ebf089c9.js"><link rel="prefetch" href="/dovis-blog/assets/js/233.d4bbe766.js"><link rel="prefetch" href="/dovis-blog/assets/js/234.908af9a9.js"><link rel="prefetch" href="/dovis-blog/assets/js/235.cd5b4606.js"><link rel="prefetch" href="/dovis-blog/assets/js/236.d018a321.js"><link rel="prefetch" href="/dovis-blog/assets/js/237.f1bf1c5d.js"><link rel="prefetch" href="/dovis-blog/assets/js/238.42550f5a.js"><link rel="prefetch" href="/dovis-blog/assets/js/24.c34ba851.js"><link rel="prefetch" href="/dovis-blog/assets/js/240.34f6fdec.js"><link rel="prefetch" href="/dovis-blog/assets/js/241.18a03090.js"><link rel="prefetch" href="/dovis-blog/assets/js/242.61fe842e.js"><link rel="prefetch" href="/dovis-blog/assets/js/243.f3601991.js"><link rel="prefetch" href="/dovis-blog/assets/js/244.c446408e.js"><link rel="prefetch" href="/dovis-blog/assets/js/245.76c92beb.js"><link rel="prefetch" href="/dovis-blog/assets/js/246.68388ee9.js"><link rel="prefetch" href="/dovis-blog/assets/js/247.9567500d.js"><link rel="prefetch" href="/dovis-blog/assets/js/248.2fa9f8c2.js"><link rel="prefetch" href="/dovis-blog/assets/js/249.5d77f8e5.js"><link rel="prefetch" href="/dovis-blog/assets/js/25.1d37e401.js"><link rel="prefetch" href="/dovis-blog/assets/js/250.8d7ab0d5.js"><link rel="prefetch" href="/dovis-blog/assets/js/251.fa2cea0b.js"><link rel="prefetch" href="/dovis-blog/assets/js/252.2900d8b0.js"><link rel="prefetch" href="/dovis-blog/assets/js/253.e37858d8.js"><link rel="prefetch" href="/dovis-blog/assets/js/26.9a6ba0d5.js"><link rel="prefetch" href="/dovis-blog/assets/js/27.9b07aafd.js"><link rel="prefetch" href="/dovis-blog/assets/js/28.fade04f7.js"><link rel="prefetch" href="/dovis-blog/assets/js/29.cc0b2895.js"><link rel="prefetch" href="/dovis-blog/assets/js/3.0ab9a3c5.js"><link rel="prefetch" href="/dovis-blog/assets/js/30.cb6b6ce6.js"><link rel="prefetch" href="/dovis-blog/assets/js/31.ea8c1a9f.js"><link rel="prefetch" href="/dovis-blog/assets/js/32.2f2d22fb.js"><link rel="prefetch" href="/dovis-blog/assets/js/33.40db7005.js"><link rel="prefetch" href="/dovis-blog/assets/js/34.79194b0a.js"><link rel="prefetch" href="/dovis-blog/assets/js/35.7ef24c18.js"><link rel="prefetch" href="/dovis-blog/assets/js/36.e25f6d2f.js"><link rel="prefetch" href="/dovis-blog/assets/js/37.ab49843b.js"><link rel="prefetch" href="/dovis-blog/assets/js/38.d2c8079e.js"><link rel="prefetch" href="/dovis-blog/assets/js/39.e9e5a292.js"><link rel="prefetch" href="/dovis-blog/assets/js/4.1f28534a.js"><link rel="prefetch" href="/dovis-blog/assets/js/40.62d4e759.js"><link rel="prefetch" href="/dovis-blog/assets/js/41.fdd1072e.js"><link rel="prefetch" href="/dovis-blog/assets/js/42.e30fbe8a.js"><link rel="prefetch" href="/dovis-blog/assets/js/43.a07baad4.js"><link rel="prefetch" href="/dovis-blog/assets/js/44.a3a53a4e.js"><link rel="prefetch" href="/dovis-blog/assets/js/45.5df60077.js"><link rel="prefetch" href="/dovis-blog/assets/js/46.383c61db.js"><link rel="prefetch" href="/dovis-blog/assets/js/47.61f36730.js"><link rel="prefetch" href="/dovis-blog/assets/js/48.776e26d5.js"><link rel="prefetch" href="/dovis-blog/assets/js/49.59835332.js"><link rel="prefetch" href="/dovis-blog/assets/js/5.dc2e2831.js"><link rel="prefetch" href="/dovis-blog/assets/js/50.94d003ee.js"><link rel="prefetch" href="/dovis-blog/assets/js/51.d4cbc621.js"><link rel="prefetch" href="/dovis-blog/assets/js/52.ee20cd8d.js"><link rel="prefetch" href="/dovis-blog/assets/js/53.aec35199.js"><link rel="prefetch" href="/dovis-blog/assets/js/54.a1c7ec1b.js"><link rel="prefetch" href="/dovis-blog/assets/js/55.a8efd6a2.js"><link rel="prefetch" href="/dovis-blog/assets/js/56.b1188395.js"><link rel="prefetch" href="/dovis-blog/assets/js/57.f66a31d0.js"><link rel="prefetch" href="/dovis-blog/assets/js/58.a42d22f4.js"><link rel="prefetch" href="/dovis-blog/assets/js/59.29307f84.js"><link rel="prefetch" href="/dovis-blog/assets/js/6.3e6c98e5.js"><link rel="prefetch" href="/dovis-blog/assets/js/60.ccc26954.js"><link rel="prefetch" href="/dovis-blog/assets/js/61.9450e732.js"><link rel="prefetch" href="/dovis-blog/assets/js/62.8d8a7877.js"><link rel="prefetch" href="/dovis-blog/assets/js/63.3c029649.js"><link rel="prefetch" href="/dovis-blog/assets/js/64.e1765ad4.js"><link rel="prefetch" href="/dovis-blog/assets/js/65.19112813.js"><link rel="prefetch" href="/dovis-blog/assets/js/66.ecf977cd.js"><link rel="prefetch" href="/dovis-blog/assets/js/67.940f1589.js"><link rel="prefetch" href="/dovis-blog/assets/js/68.644fec37.js"><link rel="prefetch" href="/dovis-blog/assets/js/69.1640ad18.js"><link rel="prefetch" href="/dovis-blog/assets/js/7.aabb3245.js"><link rel="prefetch" href="/dovis-blog/assets/js/70.677e5050.js"><link rel="prefetch" href="/dovis-blog/assets/js/71.ddeed1a2.js"><link rel="prefetch" href="/dovis-blog/assets/js/72.d67dba13.js"><link rel="prefetch" href="/dovis-blog/assets/js/73.4c0213c3.js"><link rel="prefetch" href="/dovis-blog/assets/js/74.6a9683c4.js"><link rel="prefetch" href="/dovis-blog/assets/js/75.a3a54c80.js"><link rel="prefetch" href="/dovis-blog/assets/js/76.56e98529.js"><link rel="prefetch" href="/dovis-blog/assets/js/77.0dfe790a.js"><link rel="prefetch" href="/dovis-blog/assets/js/78.c611dc3f.js"><link rel="prefetch" href="/dovis-blog/assets/js/79.bab6ec8a.js"><link rel="prefetch" href="/dovis-blog/assets/js/8.7e6a413d.js"><link rel="prefetch" href="/dovis-blog/assets/js/80.eaaacea3.js"><link rel="prefetch" href="/dovis-blog/assets/js/81.f29838a9.js"><link rel="prefetch" href="/dovis-blog/assets/js/82.2fe3ef7d.js"><link rel="prefetch" href="/dovis-blog/assets/js/83.fc260d04.js"><link rel="prefetch" href="/dovis-blog/assets/js/84.453dda3b.js"><link rel="prefetch" href="/dovis-blog/assets/js/85.c90eef58.js"><link rel="prefetch" href="/dovis-blog/assets/js/86.51837d37.js"><link rel="prefetch" href="/dovis-blog/assets/js/87.39271afe.js"><link rel="prefetch" href="/dovis-blog/assets/js/88.a2be9925.js"><link rel="prefetch" href="/dovis-blog/assets/js/89.7d4147d7.js"><link rel="prefetch" href="/dovis-blog/assets/js/9.bb38c082.js"><link rel="prefetch" href="/dovis-blog/assets/js/90.dca68ed0.js"><link rel="prefetch" href="/dovis-blog/assets/js/91.20457f56.js"><link rel="prefetch" href="/dovis-blog/assets/js/92.6d3e54a6.js"><link rel="prefetch" href="/dovis-blog/assets/js/93.e65298b9.js"><link rel="prefetch" href="/dovis-blog/assets/js/94.5b820901.js"><link rel="prefetch" href="/dovis-blog/assets/js/95.ad971786.js"><link rel="prefetch" href="/dovis-blog/assets/js/96.980fc655.js"><link rel="prefetch" href="/dovis-blog/assets/js/97.b6a37cd8.js"><link rel="prefetch" href="/dovis-blog/assets/js/98.24143586.js"><link rel="prefetch" href="/dovis-blog/assets/js/99.70fa7990.js">
    <link rel="stylesheet" href="/dovis-blog/assets/css/0.styles.65ab5e54.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dovis-blog/" class="home-link router-link-active"><img src="/dovis-blog/logo.jpeg" alt="Dovis's blog" class="logo"> <span class="site-name can-hide">Dovis's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dovis-blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/ES6/" class="nav-link">
  ES6
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架/库" class="dropdown-title"><span class="title">框架/库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架/库" class="mobile-dropdown-title"><span class="title">框架/库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/frame/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/frame/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/frame/AnotherPackage/" class="nav-link">
  其他库原理解析
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶分支" class="dropdown-title"><span class="title">进阶分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="进阶分支" class="mobile-dropdown-title"><span class="title">进阶分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/advanced/Performance/" class="nav-link">
  前端性能
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/advanced/Safety/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/advanced/Browser/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="全链路分支" class="dropdown-title"><span class="title">全链路分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="全链路分支" class="mobile-dropdown-title"><span class="title">全链路分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/fulllink/Modularity/" class="nav-link">
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/fulllink/BuildingTools/" class="nav-link">
  构建工具
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/fulllink/LangAdvanced/" class="nav-link">
  语言增强
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法&amp;数据结构" class="dropdown-title"><span class="title">算法&amp;数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法&amp;数据结构" class="mobile-dropdown-title"><span class="title">算法&amp;数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          数据结构
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/LinkedList/" class="nav-link">
  链表
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/Array/" class="nav-link">
  数组
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/Stack-Queue/" class="nav-link">
  栈与队列
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/String/" class="nav-link">
  字符串
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/Tree/" class="nav-link">
  树
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/BasicAlgorithm/" class="nav-link">
  基础算法
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/AlgorithmicThinking/" class="nav-link">
  算法思维
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/Other/" class="nav-link">
  其他算法知识点
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/Company/" class="nav-link">
  公司题库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端领域分支" class="dropdown-title"><span class="title">前端领域分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端领域分支" class="mobile-dropdown-title"><span class="title">前端领域分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/area/Mobile/" class="nav-link">
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/area/Visualization/" class="nav-link">
  可视化
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/area/SSR/" class="nav-link">
  SSR
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/area/Monitor/" class="nav-link">
  前端监控
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务端分支" class="dropdown-title"><span class="title">服务端分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="服务端分支" class="mobile-dropdown-title"><span class="title">服务端分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/service/Node/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/service/Server/" class="nav-link">
  web服务器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他知识" class="dropdown-title"><span class="title">其他知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他知识" class="mobile-dropdown-title"><span class="title">其他知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/another/Git/" class="nav-link">
  Git版本工具
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/another/PackageManager/" class="nav-link">
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/another/Net/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/another/Working/" class="nav-link">
  工作遇到的知识
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="趣识" class="dropdown-title"><span class="title">趣识</span> <span class="arrow down"></span></button> <button type="button" aria-label="趣识" class="mobile-dropdown-title"><span class="title">趣识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Eddie-Fannie" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/reading/" class="nav-link">
  阅享
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/interview/" class="nav-link router-link-active">
  前端面试
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/coding/" class="nav-link">
  前端代码片段
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Eddie-Fannie/qd-interview-question/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试题汇总库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dovis-blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/HTML/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/basis/ES6/" class="nav-link">
  ES6
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架/库" class="dropdown-title"><span class="title">框架/库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架/库" class="mobile-dropdown-title"><span class="title">框架/库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/frame/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/frame/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/frame/AnotherPackage/" class="nav-link">
  其他库原理解析
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶分支" class="dropdown-title"><span class="title">进阶分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="进阶分支" class="mobile-dropdown-title"><span class="title">进阶分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/advanced/Performance/" class="nav-link">
  前端性能
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/advanced/Safety/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/advanced/Browser/" class="nav-link">
  浏览器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="全链路分支" class="dropdown-title"><span class="title">全链路分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="全链路分支" class="mobile-dropdown-title"><span class="title">全链路分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/fulllink/Modularity/" class="nav-link">
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/fulllink/BuildingTools/" class="nav-link">
  构建工具
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/fulllink/LangAdvanced/" class="nav-link">
  语言增强
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法&amp;数据结构" class="dropdown-title"><span class="title">算法&amp;数据结构</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法&amp;数据结构" class="mobile-dropdown-title"><span class="title">算法&amp;数据结构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          数据结构
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/LinkedList/" class="nav-link">
  链表
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/Array/" class="nav-link">
  数组
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/Stack-Queue/" class="nav-link">
  栈与队列
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/String/" class="nav-link">
  字符串
</a></li><li class="dropdown-subitem"><a href="/dovis-blog/algorithm/DataStructure/Tree/" class="nav-link">
  树
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/BasicAlgorithm/" class="nav-link">
  基础算法
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/AlgorithmicThinking/" class="nav-link">
  算法思维
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/Other/" class="nav-link">
  其他算法知识点
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/algorithm/Company/" class="nav-link">
  公司题库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端领域分支" class="dropdown-title"><span class="title">前端领域分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端领域分支" class="mobile-dropdown-title"><span class="title">前端领域分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/area/Mobile/" class="nav-link">
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/area/Visualization/" class="nav-link">
  可视化
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/area/SSR/" class="nav-link">
  SSR
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/area/Monitor/" class="nav-link">
  前端监控
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务端分支" class="dropdown-title"><span class="title">服务端分支</span> <span class="arrow down"></span></button> <button type="button" aria-label="服务端分支" class="mobile-dropdown-title"><span class="title">服务端分支</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/service/Node/" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/service/Server/" class="nav-link">
  web服务器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他知识" class="dropdown-title"><span class="title">其他知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他知识" class="mobile-dropdown-title"><span class="title">其他知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dovis-blog/another/Git/" class="nav-link">
  Git版本工具
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/another/PackageManager/" class="nav-link">
  包管理工具
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/another/Net/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/another/Working/" class="nav-link">
  工作遇到的知识
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="趣识" class="dropdown-title"><span class="title">趣识</span> <span class="arrow down"></span></button> <button type="button" aria-label="趣识" class="mobile-dropdown-title"><span class="title">趣识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Eddie-Fannie" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/reading/" class="nav-link">
  阅享
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/interview/" class="nav-link router-link-active">
  前端面试
</a></li><li class="dropdown-item"><!----> <a href="/dovis-blog/coding/" class="nav-link">
  前端代码片段
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Eddie-Fannie/qd-interview-question/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试题汇总库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/HTML面试考点.html" class="sidebar-link">前端面试HTML问什么</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/css常问面试题.html" class="sidebar-link">CSS常问面试题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JS模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/js问题.html" class="sidebar-link">js面试问题列表</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/vue相关问题.html" class="sidebar-link">vue面试相关问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/其他问题.html" class="sidebar-link">前端面试其他常见问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>项目模块</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/项目考点.html" class="sidebar-link">项目问题</a></li><li><a href="/dovis-blog/interview/🦐项目总结.html" class="active sidebar-link">🦐皮项目总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dovis-blog/interview/🦐项目总结.html#zone电子围栏" class="sidebar-link">zone电子围栏</a></li><li class="sidebar-sub-header"><a href="/dovis-blog/interview/🦐项目总结.html#webpack-构建优化" class="sidebar-link">webpack 构建优化</a></li><li class="sidebar-sub-header"><a href="/dovis-blog/interview/🦐项目总结.html#webpack打包优化" class="sidebar-link">webpack打包优化</a></li><li class="sidebar-sub-header"><a href="/dovis-blog/interview/🦐项目总结.html#fms-lcp优化专项" class="sidebar-link">fms LCP优化专项</a></li><li class="sidebar-sub-header"><a href="/dovis-blog/interview/🦐项目总结.html#admin微前端加载优化" class="sidebar-link">Admin微前端加载优化</a></li><li class="sidebar-sub-header"><a href="/dovis-blog/interview/🦐项目总结.html#翻译工具-顺带看i18n开源原理" class="sidebar-link">翻译工具（顺带看i18n开源原理）</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面试情况</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dovis-blog/interview/面试情况.html" class="sidebar-link">跳槽面试情况总结</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="🦐皮项目总结"><a href="#🦐皮项目总结" class="header-anchor">#</a> 🦐皮项目总结</h1> <h2 id="zone电子围栏"><a href="#zone电子围栏" class="header-anchor">#</a> zone电子围栏</h2> <p>难点模块：<code>undo</code>、<code>redo</code>，精准的吸附、贴边的处理、边界的切割、<code>split</code>、<code>merge</code>、绘制</p> <p>整体结构 -- 主要功能模块与初始化
<code>DrawingManger</code>：管理绘制、编辑、删除一个或多个zone多边形的状态、方法
<code>EventManager</code>：管理所有地图、及地图中图形的监听事件
<code>ActionLogManager</code>： 管理所有Zone绘制过程中的操作记录Log，及相关数据的统一处理
<code>UndoRedoManager</code>：管理UndoRedo操作涉及的状态、方法</p> <h3 id="蒙层与可编辑区域"><a href="#蒙层与可编辑区域" class="header-anchor">#</a> 蒙层与可编辑区域</h3> <p>解决方案：</p> <ol><li>限制地图的最小缩放级别、避免用户看到蒙层边缘</li> <li>监听地图的<code>dragend</code>事件，将可视区域控制在画Zone的有效区域附近</li> <li>利用了<code>GeoJSON</code>中有孔的<code>Polygon</code>作为蒙层，孔的区域作为画<code>Zone</code>的有效区域</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ol><li>有孔<code>polygon</code>：</li></ol> <ul><li>内部有多边形孔的<code>Polygon</code>多边形，第二个数组所描述的就是多边形内孔</li> <li>作为孔的多边形，孔各点的坐标需按逆时针顺序，如何判断是否为顺时针方法<a href="https://github1s.com/Turfjs/turf/blob/625b4205dfd39687cf622ca565109c60bc8aaeb5/packages/turf-boolean-clockwise/index.ts" target="_blank" rel="noopener noreferrer">turf.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <ol start="2"><li>使用一个比东南亚还要大的<code>polygon</code> <code>geojson</code> 数据</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Polygon&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;coordinates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>
        <span class="token number">69.2578125</span><span class="token punctuation">,</span>
        <span class="token operator">-</span><span class="token number">43.19716728250127</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token number">179.421875</span><span class="token punctuation">,</span>
        <span class="token operator">-</span><span class="token number">43.19716728250127</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token number">179.421875</span><span class="token punctuation">,</span>
        <span class="token number">29.84064389983441</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token number">69.2578125</span><span class="token punctuation">,</span>
        <span class="token number">29.84064389983441</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token number">69.2578125</span><span class="token punctuation">,</span>
        <span class="token operator">-</span><span class="token number">43.19716728250127</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></div> <h3 id="绘图"><a href="#绘图" class="header-anchor">#</a> 绘图</h3> <p>使用<code>google map</code>提供的<code>Drawing Tools</code>封装了一个图形绘制的整体过程，只暴露了绘制完成的事件。而电子围栏模块的需求中，对于图形绘制的过程中，每次的落点都有交互和处理的逻辑，所以没法应用</p> <h4 id="一些细节"><a href="#一些细节" class="header-anchor">#</a> 一些细节</h4> <ol><li>如何判断 <code>polygon</code> 不自相交 (<a href="https://turfjs.fenxianglu.cn/category/misc/kinks.html" target="_blank" rel="noopener noreferrer">turf/kinks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)，<code>zone</code>交给后台切割返回，<code>unit</code>提示自相交</li> <li>绘制过程 <code>polygon</code> 互相相交会自动切割，<code>zone</code>中交给后台处理，<code>unit</code>中sdk处理</li> <li>绘制时会自动进行多边形吸附，支持业务传入 <code>snap</code>进行配置</li> <li>绘制完成后计算面积 <a href="https://turfjs.fenxianglu.cn/category/measurement/area.html" target="_blank" rel="noopener noreferrer">turf/area<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<code>zone</code>让后台处理</li> <li>拖动多边形点可以更新多边形，之前使用 <code>google map</code> 可以删掉多边形上的点</li> <li>合并多边形可以看看 <a href="https://turfjs.fenxianglu.cn/category/transformation/union.html" target="_blank" rel="noopener noreferrer">turf/union<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，业务使用接口来处理</li> <li><code>split</code> 分割多边形</li> <li><code>undo, redo</code></li></ol> <h4 id="可以删除线上的点-更新多边形"><a href="#可以删除线上的点-更新多边形" class="header-anchor">#</a> 可以删除线上的点，更新多边形</h4> <h4 id="split-zone"><a href="#split-zone" class="header-anchor">#</a> Split zone</h4> <p>对比引线只能在边上，跟超出zone边界的两种交互的实现</p> <ul><li><strong>遍历zone图形所有点，以split线的点为分界线，将两侧点分别加入到两个新的zone图形中，并通过坐标点旋转以避免多边形出现孔的情况</strong>。</li></ul> <ol><li>使用 <code>new google.maps.Polyline</code> 创建一条分割线</li></ol> <h4 id="add-zone"><a href="#add-zone" class="header-anchor">#</a> Add Zone</h4> <h4 id="初始"><a href="#初始" class="header-anchor">#</a> 初始</h4> <p>初始化Polyline和Polygon，绘制过程中，更新Zone的Polyline以及Polygon的数据，渲染更新的Polyline到地图。绘制完成时，渲染Zone的Polygon到地图。</p> <p>各初始化的任务：</p> <ol><li>初始化DrawingManager，创建新的Zone轨迹的PolyLine和Zone图形的Polygon对象</li> <li>初始化UndoRedoManager，准备后续记录用户的绘图操作</li> <li>初始化各个Add过程中的交互功能的事件注册。包括：
a. 落点时，更新Zone的轨迹线Polyline
b. 鼠标移动时，渲染引线，提示框
c. 鼠标移动时，寻找，计算和显示自动吸附点
d. 鼠标移入移出有效区域时的处理
e. 鼠标双击时，完成Zone的闭合和绘制
f. drag/drop现有的点时，更新该点的位置
g. 右键点击现有的点时，提供可以删除该点的选项</li></ol> <h5 id="边的自动吸附"><a href="#边的自动吸附" class="header-anchor">#</a> 边的自动吸附</h5> <ol><li>add操作过程中，始终有引线跟随，当引线接近绘制区域边界、或是其他zone的边界时，会自动吸附到该边上。</li> <li>通过Map API提供的<code>isLocationOnEdge</code>方法</li> <li>但是这个无法保证精确度，提供点buffer</li> <li>找到buffer内的点后，通过几何计算，找到临近的边上距离目标点最新的点（涉及<strong>墨卡托坐标系转换</strong>）</li></ol> <h4 id="切边处理"><a href="#切边处理" class="header-anchor">#</a> 切边处理</h4> <p>绘制完成后提交数据，后端对提交的polygon数据与服务范围边界进行计算，去掉边界外的部分</p> <h4 id="merge-zone"><a href="#merge-zone" class="header-anchor">#</a> merge zone</h4> <p>现有方案交给后台处理</p> <h2 id="webpack-构建优化"><a href="#webpack-构建优化" class="header-anchor">#</a> webpack 构建优化</h2> <ul><li>开发构建时会编译所有页面，但是开发可能只关注若干页面</li> <li>缺少编译缓存</li> <li>单线程</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>webpack</code>从v4升级到v5，由于升级了 <code>webpack</code>，<code>webpack-cli</code>，<code>plugin</code> 以及 <code>loader</code> 的版本，因此，可能会出现新的错误或警告。在编译过程中请注意是否有弃用警告。</p> <p>你可以通过如下方式调用 <code>webpack</code> 来获取堆栈信息中的弃用警告，从而找出是哪个 <code>plugin</code> 或 <code>loader</code> 造成的。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>node --trace-deprecation node_modules/webpack/bin/webpack.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h3 id="thread-loader插件-多线程构建"><a href="#thread-loader插件-多线程构建" class="header-anchor">#</a> <code>thread-loader</code>插件，多线程构建</h3> <p>线程池线程数量，现代计算机一般有多个核，主线程占一个核，剩下的核我们把大约一半分给 <code>vue</code> 模块，剩余分给 <code>js</code> 模块，
假设计算机核数为 <code>cpuCount</code> ，</p> <ul><li>在 <code>vue</code> 模块配置中，<code>workersForVue = Math.max(1, Math.floor((cpuCount - 1)/2 - 1))</code></li> <li>在 <code>js</code> 模块配置中，<code>workersForJs = Math.max(1, cpuCount - workersForVue)</code></li></ul> <h3 id="cache-loader-增加编译缓存"><a href="#cache-loader-增加编译缓存" class="header-anchor">#</a> <code>cache-loader</code>，增加编译缓存</h3> <blockquote><p>安装 <code>cache-loader</code> ，在开发环境配置里的 <code>vue-loader</code> 和 <code>babel-loader</code> 加上缓存相关配置项</p></blockquote> <p>配置项</p> <table><thead><tr><th>loader</th> <th>options</th></tr></thead> <tbody><tr><td>vue-loader</td> <td>{ cacheDirectory: <code>node_modules/.cache-${userName}/vue-loader</code>, <br> cacheIdentifier: getCacheIdentifier(envIndentifier, ['cache-loader', 'vue-loader']), }</td></tr> <tr><td>babel-loader</td> <td>{ cacheDirectory: <code>node_modules/.cache-${userName}/babel-loader</code>, <br> cacheIdentifier: getCacheIdentifier(envIndentifier, ['cache-loader', 'babel-loader', 'acribus', 'acribus-core']), }</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ol><li><code>userName</code> 为当前用户名，开发过程可能使用 <code>sudo</code>进行构建，不同用户使用不同缓存目录，<code>sudo</code>下<code>userName</code>为<code>root</code>。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> userName <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">userInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>username<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li><code>getCacheIdentifier</code> 是生成缓存标识（<code>cacheIdentifier</code>）的函数，缓存标识用于与单个文件的修改时间一起生成该文件的缓存标识。
代码参考：<a href="https://github.com/facebook/create-react-app/blob/bb64e31a81eb12d688c14713dce812143688750a/packages/react-dev-utils/getCacheIdentifier.js" target="_blank" rel="noopener noreferrer">create-react-app/packages/react-dev-utils<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>envIndentifier</code> 为环境变量标识，当环境变量变更的时候，缓存应该失效，所以缓存标识与环境变量相关。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> envIndentifier <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">FTE</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">ENV</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token comment">// FTE 环境变量 表示当前构建环境，test/uat/staging...,ENV 环境变量表示当前哪个市场，id/th/my/ph/tw/br... mode构建模式（development)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h3 id="升级到-webpack5-利用-webpack5的模块联邦-module-federation-功能-进行模块拆分-让模块独立编译和维护"><a href="#升级到-webpack5-利用-webpack5的模块联邦-module-federation-功能-进行模块拆分-让模块独立编译和维护" class="header-anchor">#</a> 升级到 <code>webpack5</code>，利用 <code>webpack5</code>的模块联邦 （<code>module federation</code>）功能，进行模块拆分，让模块独立编译和维护</h3> <ol><li>提升开发体验</li> <li>满足部分业务独立维护和发布的需求</li> <li>降低项目复杂度，减少迭代成本</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>共享NPM包设计</li></ul> <blockquote><p>由于每个子应用都有自己的 <code>package.json</code>，包含自己用到的 <code>npm</code> 包，不同的子应用可能会用到同一个包，例如 <code>vue</code>, <code>vue-router</code> 和 <code>lodash</code> 等，在子应用开发过程中，可能会升级某个包，导致不同的子应用该包的版本不一致，如果那个包是支持多实例或者没有全局副作用的，多版本是没有问题的，否则就会产生冲突。</p></blockquote> <p>如何避免冲突：</p> <ul><li>把共享的 <code>npm</code> 包放主应用，升级时通过修改主应用来完成升级，把主应用 <code>package.json</code> 里列出来的所有依赖都配置成共享</li> <li>通过配置，确保共享的 <code>npm</code> 包在运行时只会存在一个版本 <code>webpack module federation</code> 里的 <code>singleton</code> 配置可以让某个共享包在运行时只会加载一个，并且是最高版本的那个。(版本一样，按package.json内的name字段来比较)</li> <li>在运行时检查 <code>npm</code> 包版本，确保主应用里的版本比子应用里的版本高，和提示被不同子应用用到但是没有共享的包</li></ul> <ul><li>加载子模块应该不阻塞主应用的启动，子模块的代码应该通过异步的方式加载。即通过手动加入标签的方式，异步加载 <code>remoteEntry.js</code></li></ul></div> <h2 id="webpack打包优化"><a href="#webpack打包优化" class="header-anchor">#</a> webpack打包优化</h2> <h3 id="fms打包效率优化"><a href="#fms打包效率优化" class="header-anchor">#</a> fms打包效率优化</h3> <ol><li>分析包体积：打包时间112s，大小20.81MB</li> <li>部分包体积大的引入<code>cdn</code></li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>干掉 <code>element-ui</code>，包大小变为20.23MB</li> <li><code>vue,vuex,vue-router</code> vue全家桶接入cdn后，大小为20.12MB</li> <li><code>echarts</code>接入cdn后，体积变为19.72MB</li> <li><code>xlsx.js</code>：升级版本，由0.17.x升级到0.18.x（支持tree-shaking`）。全量加载改成按需加载。打包时间变为80.7s，大小19.23MB</li> <li>翻译资源JSON文件改成使用 tsp</li> <li>acribus改成异步加载</li></ul></div> <ol start="3"><li>通过<code>SplitChunk.maxSize</code>将超过制定大小的包再进行拆分，配合<code>http2</code>多路复用特性效果更好</li> <li>因为acribus及代码循环历史原因，没有使用<code>esbuild-loader</code>代替<code>babel-loader</code>，只使用<code>ESBuildMinifyPlugin</code>压缩<code>js/css</code>，提升不少速度</li></ol> <h3 id="提升打包效率"><a href="#提升打包效率" class="header-anchor">#</a> 提升打包效率</h3> <ol><li>使用<code>speed-measure-webpack-plugin</code>分析启动耗时</li> <li>引入懒编译<code>lazyCompilation</code>，只针对<code>views</code>文件进行懒编译。（跳转路由时触发增量编译）</li></ol> <blockquote><p>引入<code>webpack</code>的懒编译，首次启动的时间(55.48s）降为之前的47%左右（现在26.64s），提升了53%的效率。首次进入页面耗（打开本地spx）时再次编译耗时1.8s，跳转路由再次触发编译耗费2.64s的时间。整体的效果相比优化前有明显的提升。但是由于每次进入新的页面都会触发编译，导致体验感稍微降低。</p></blockquote> <ol start="3"><li>减少不必要的压缩，启动时间降为22.001s，减少4.63s</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">minimize</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>增加缓存方案，首次启动性能有所下降，首次启动时间上升到27.43s，二次启动启动时间为24.19s</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'filesystem'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="fms-lcp优化专项"><a href="#fms-lcp优化专项" class="header-anchor">#</a> fms LCP优化专项</h2> <p>LCP(largest contentful paint)，从7s到3s。从devtools -&gt; performance insights可以看到</p> <p><img src="/dovis-blog/other/88.png" alt="img"></p> <h3 id="优化措施"><a href="#优化措施" class="header-anchor">#</a> 优化措施</h3> <p>开发模式下</p> <ol><li>把所有必须的数据请求到 <code>index.html</code> 页面执行。</li></ol> <ul><li>子应用 <code>remoteEntry</code> 添加到 <code>preload</code> 。前置到 <code>html</code> 中加载</li> <li>ajax请求 放到 index.html</li></ul> <ol start="2"><li><p>懒加载 acribus shcema</p></li> <li><p>fms-admin使用vue基础组件库CDN</p></li></ol> <blockquote><p>首屏加载存在一个阶段，并行加载了大量<code>js chunk</code>，而其中属于<code>vue</code>基础组件库的<code>chunk数</code>量较多。此外，在主应用和子应用中也存在重复引入相同组件的情况。通过将<code>vue</code>基础组件库部署到<code>cdn</code>，在<code>fms-admin</code>统一使用<code>cdn</code>的组件库资源，则可以缓解这些问题。</p></blockquote> <ol start="4"><li><strong>对各初始化API增加IndexDB的缓存</strong></li> <li><code>cdn</code>缓存时间从十分钟改为7天</li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>优化前主应用chunk 数量121个，子应用部分58个。优化后主应用chunk数83个，子应用46个。</p></div> <h2 id="admin微前端加载优化"><a href="#admin微前端加载优化" class="header-anchor">#</a> <code>Admin</code>微前端加载优化</h2> <h3 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h3> <p>使用 <code>Module federation</code> 拆分之后，由于需要异步加载子应用远程入口（<code>remote entry</code>）和资源，页面 <code>LCP</code> 可能会增大，过程大概如下：</p> <ol><li>应用入口被加载</li> <li>子应用的 <code>remote entry</code> 并行加载</li> <li>子应用资源并行加载</li> <li>页面显示</li></ol> <p>这几个步骤是串行的，会阻塞页面的渲染。要想减少 <code>LCP</code>，主要有两方面的优化：</p> <ul><li>加快 <code>remote entry</code> 加载</li> <li>减少子应用资源的加载和注册对渲染的阻塞</li></ul> <h3 id="对remoteentry的缓存控制"><a href="#对remoteentry的缓存控制" class="header-anchor">#</a> 对<code>remoteEntry</code>的缓存控制</h3> <ul><li>不缓存
通常来说，<code>remote entry</code> 是不能使用强缓存的，因为在子应用发布后其他应用需要加载到最新的 <code>remote entry</code> 才能正确的使用最新发布的子应用的功能。
所以在一开始的时候我们通过在加载 <code>remote entry</code> 的时候在 <code>url</code> 上添加时间戳来保证每次加载到的 <code>remote entry</code> 都是最新的，这种方式存在两个问题：</li></ul> <ol><li>没有缓存，加载时间长</li> <li>当某个应用被多个其他应用依赖时，由于带时间戳的 <code>URL</code> 不同，会导致一个 <code>remote entry</code> 被加载多次（多个运行时）从而引起问题</li></ol> <ul><li>协商缓存 + <code>preload</code>
为了解决面提到的问题，我们把 <code>remote entry</code> 改成了协商缓存。使用协商缓存之后，每个子应用的 <code>remote entry</code> 的加载 <code>URL</code> 都是固定的，于是我们又增加了 预加载<code>（preload）</code>，对减少 <code>LCP</code> 有一定的效果。</li></ul> <h3 id="子应用懒加载"><a href="#子应用懒加载" class="header-anchor">#</a> 子应用懒加载</h3> <p>用户进入页面的时候，那个页面往往只属于一个子应用，也就是只有那个子应用是必须的，其他的子应用的注册不应该阻塞页面渲染，所以可以做成懒注册。</p> <p>子应用资源拆分两部分：</p> <ul><li><code>initModule</code>：包含页面初始渲染必要的资源，例如路由信息</li> <li><code>lazyModule</code>：包含页面初始渲染不必要的资源，例如<code>store</code> <code>initModule</code> 的加载会阻塞渲染流程，而 <code>lazyModule</code> 的加载则不会，它会跟 <code>initModule</code> 并行加载。<code>lazyModule</code> 只有在打开子应用的页面时才会被注册。</li></ul> <ol><li>模块注册时，如果存在<code>lazyModule</code>，将会创建一个<code>beforeEnter</code>函数。将该函数添加到<code>initModule</code>里的每个<code>route</code>里</li></ol> <h3 id="按市场需要加载子应用"><a href="#按市场需要加载子应用" class="header-anchor">#</a> 按市场需要加载子应用</h3> <p>有一些子应用只在部分地区开放，为了节省资源和提升速度，其他地区没有必要加载，所以我们需要支持根据地区来按需加载子应用。</p> <p>由于我们是通过内置的 <code>import</code> 函数来引入子应用模块的，它会在编译时根据 <code>module federation</code> 的 <code>remotes</code> 来觉得这次编译有哪些子应用的 <code>remoteEntry</code> 需要被加载。另外，我们所有地区用的都是同一份代码，所以代码里面必然存在所有子应用的 <code>import</code> 语句，这样的话，编译出来的代码将包含所有加载 <code>remoteEntry</code> 的代码。</p> <p>因此，我们不能使用编译时方案，并且我们需要自定义加载 <code>remoteEntry</code> 的方法，这样才可以避免加载不需要的子应用 <code>remoteEntry</code>。</p> <h2 id="翻译工具-顺带看i18n开源原理"><a href="#翻译工具-顺带看i18n开源原理" class="header-anchor">#</a> 翻译工具（顺带看i18n开源原理）</h2> <h3 id="原理细说"><a href="#原理细说" class="header-anchor">#</a> 原理细说</h3> <ol><li><code>blueimp-md5</code>生成32位 最终使用slice(8, 24)截取了16位来作为<code>key</code></li></ol> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>key</code>由 <code>Project</code>,<code>NameSpace</code>,<code>Label</code>加_拼接组成，所有空格替换为<code>_</code></p> <ul><li>缩小平均长度：根据实际数据统计，生成的规范 label 平均长度在 25 以上，而且存在个别超长长度会影响数据边界</li> <li>保证唯一性：采用 <code>md5</code> 算法是为了保证唯一性，避免冲突</li> <li>易于区分：工具生成的 <code>key</code> 统一为 16 位 <code>MD5</code>，特征比较明显，便于后续工具分析和区分</li></ul></div> <ol start="2"><li>项目名_key的模块名称（默认other）_label（需要翻译的文案）用来生成key。模块名称是指可能同一个文案label在不同模块下翻译含义可能有所不同</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/dovis-blog/interview/项目考点.html" class="prev">
        项目问题
      </a></span> <span class="next"><a href="/dovis-blog/interview/面试情况.html">
        跳槽面试情况总结
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/dovis-blog/assets/js/app.5feaa36d.js" defer></script><script src="/dovis-blog/assets/js/2.f47a1dbb.js" defer></script><script src="/dovis-blog/assets/js/239.2784da36.js" defer></script>
  </body>
</html>
