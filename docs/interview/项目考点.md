# 项目问题

## 解决
1. 减少`data`里面定义的变量
2. 多个弹窗Modal的时候，控制弹窗显示的变量只需要一个，通过弹窗类型来决定哪个弹窗显示。

## vue项目中的性能优化
1. `v-if/v-show`
> `v-if` 是 真正 的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建；也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。`v-show` 就简单得多， 不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 `CSS` 的 `display` 属性进行切换。所以，`v-if` 适用于在运行时很少改变条件，不需要频繁切换条件的场景；`v-show` 则适用于需要非常频繁切换条件的场景。

2. `v-for`避免使用`v-if`
> `v-for` 比 `v-if` 优先级高，如果每一次都需要遍历整个数组，将会影响速度，尤其是当之需要渲染很小一部分的时候，必要情况下应该替换成 `computed` 属性。

3. 长列表性能优化
> `Vue` 会通过 `Object.defineProperty` 对数据进行劫持，来实现视图响应数据的变化，然而有些时候我们的组件就是纯粹的数据展示，不会有任何改变，我们就不需要 `Vue` 来劫持我们的数据，在大量数据展示的情况下，这能够很明显的减少组件初始化的时间，那如何禁止 `Vue` 劫持我们的数据呢？可以通过 `Object.freeze` 方法来冻结一个对象，一旦被冻结的对象就再也不能被修改了。

4. 事件的销毁
> `Vue` 组件销毁时，会自动清理它与其它实例的连接，解绑它的全部指令及事件监听器，但是仅限于组件本身的事件。如果在 `js` 内使用 `addEventListener` 等方式是不会自动销毁的，我们需要在组件销毁时手动移除这些事件的监听，以免造成内存泄露
```js
beforeDestroy() {
    removeEventListener('click', this.click, false)
}
```
5. 图片懒加载
> 对于图片过多的页面，为了加速页面加载速度，所以很多时候我们需要将页面内未出现在可视区域内的图片先不做加载， 等到滚动到可视区域后再去加载。这样对于页面加载性能上会有很大的提升，也提高了用户体验。我们在项目中使用 `Vue` 的 `vue-lazyload` 插件

6. 路由懒加载
> `Vue` 是单页面应用，可能会有很多的路由引入 ，这样使用 `webpcak` 打包后的文件很大，当进入首页时，加载的资源过多，页面会出现白屏的情况，不利于用户体验。如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应的组件，这样就更加高效了。这样会大大提高首屏显示的速度，但是可能其他的页面的速度就会降下来。

7. 第三方插件按需引入
`babel-plugin-component`