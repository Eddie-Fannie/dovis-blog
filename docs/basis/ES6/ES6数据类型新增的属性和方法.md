# ES6数据类型新增的属性和方法
## 字符串的扩展
1. 每个字符固定两个字节
2. 字符串可以使用`for...of`遍历
3. `includes()`返回布尔值，表示是否找到参数字符串；`startsWith/endsWith()`表示参数字符串是否在源字符串头/尾部。这三个方法都支持第二个参数，表示开始搜索的位置。
> 使用第二个参数n时，`endsWith`的行为与其他两个方法有所不同。它针对前n个字符，而其他两个方法针对第n个位置到字符串结束位置之间的字符。
4. `repeat()`表示重复原字符串n次并返回新字符串。如果参数为小数会取整。参数为负数/`Infinity`就会报错。参数为`-1~0`之间就等同于`0`。参数`NaN`等同于`0`；如果参数为字符串就先转为数值。
5. `padStart/padEnd()`，有两个参数，第一个参数指定字符串最小长度，第二个指定补充的字符串。
```js
'x'.padStart(5,'ab') // ababx
```
- 如果原字符串长度比第一个参数大或相等，则返回原字符串。
- 补全后长度超过指定长度，则截掉超出的补全字符串
```js
'abc'.padStart(10, '0123456789') // '0123456abc'
```
- 省略第二个参数，则用空格补全。
6. 模板字符串
- 大括号内可以放任意的js表达式，可以进行运算，以及引用对象属性
- 如果大括号内的值不是字符串，按照一般规则转为字符串。比如为对象则默认调用对象的`toString`方法。
- 如果大括号内为字符串，则原样输出。

## 数值的扩展
1. 八进制用`0b/0B/0o/0o`表示。如果要使用`0b/0x`前缀的字符串数值转为十进制数值，要使用`Number`方法。
2. `Number.isFinite()`判断一个数值是否有限，有限返回`true`。`NaN`返回false，传入其他类型都返回`false`
3. `Number.isNaN()`检查一个值是否为NaN，非`NaN`一律返回`false`
```js
Number.isNaN(9/NaN) // true
Number.isNaN('true'/0) // true
Number.isNaN('true'/'true') // true
```
4. ES6将`parseInt/parseFloat()`方法从全局转移到了`Number`对象上，为了减少全局对象的方法，使得语言逐步模块化。方法使用没有变化。
5. `Number.isInteger()`判断一个值是否为整数，传入非数值类型都返回`false`。类似3和3.0这样将视为同一个值
6. `Number.EPSILON`。引入一个很小的数，目的在于为浮点数计算设置一个误差范围。浮点数计算结果小于该数就可以认为得到正确的结果。
7. `Number.isSafeInteger()`用来判断一个数是否在安全整数范围（-2^53~2^53）因为超过这个范围就无法精确表示。

## Math对象的扩展
1. `Math.trunc()`去除一个小数的小数部分，返回整数部分。对于非数值的参数，用`Number()`转换为数值。对于空值和无法截取整数的值返回`NaN`
```js
Math.trunc('12.abc') // NaN
```
2. `Math.sign()`返回一个数是正数/负数/0。对于非数值的则转为数值，不能转为数值的则返回`NaN`。正数返回+1，负数为-1。-0则返回-0
```js
// 没有这个方法，可以这样
Math.sign = Math.sign || function(x) {
    x = +x; //类型转换
    if(x === 0 || isNaN(x)) {
        return x;
    } 
    return x > 0 ? 1 : -1
}
```
3. `Math.cbrt()`返回一个数的立方根
4. `Math.hypot()`返回所有参数的平方和的平方根
5. 指数运算符`**`。对于特别大的运算结果，和`Math.pow()`计算结果有略微差异。

## 函数扩展
1. 默认参数为默认声明的，不能用`let/const`再次声明。默认参数应该是函数的尾参数，如果非尾部的参数设置默认值，实际上这个参数是无法忽略的，出发显式输入`undefined`。输入`null`没有这个效果。
```js
function foo(x=5,y=6) {
    console.log(x,y)
}
foo(undefined,null) // 5 null
```
2. 函数的`length`返回形参的个数。如果有默认值的参数，则减去。**形参的数量不包括剩余参数个数，仅包括第一个具有默认值之前的参数个数。**。**与之对比的是，`arguments.length`是函数被调用时实际传参的个数。**
```js
(function (a) {}).length // 1
(function (a=5) {}).length // 0

(function (a=5, b,c) {}).length // 0
(function(...args) {}).length // 0
```