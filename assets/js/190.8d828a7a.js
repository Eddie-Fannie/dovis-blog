(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{462:function(e,a,s){"use strict";s.r(a);var t=s(10),r=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vue-loader-深入浅出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-loader-深入浅出"}},[e._v("#")]),e._v(" vue-loader 深入浅出")]),e._v(" "),a("h2",{attrs:{id:"用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// webpack.config.js")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" VueLoaderPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'vue-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// v15以上版本")]),e._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ... 其它规则")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[e._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[e._v("\\.vue$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[e._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'vue-loader'")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 请确保引入这个插件！")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("VueLoaderPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 它的职责是将你定义过的其它规则复制并应用到 .vue 文件里相应语言的块。")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br")])]),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),a("p",[a("code",[e._v("Vue-loader")]),e._v(" 是一个 "),a("code",[e._v("Webpack")]),e._v(" 的 "),a("code",[e._v("loader")]),e._v(" ，用于将 "),a("code",[e._v("Vue")]),e._v(" 单文件组件（"),a("code",[e._v(".vue")]),e._v("文件）转换为 "),a("code",[e._v("JavaScript")]),e._v(" 模块。其原理可以概括为以下几个步骤：")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("解析单文件组件\n"),a("code",[e._v("Vue-loader")]),e._v(" 首先会解析 "),a("code",[e._v(".vue")]),e._v(" 文件，将其分为三个部分："),a("code",[e._v("<template>")]),e._v("、"),a("code",[e._v("<script>")]),e._v("和"),a("code",[e._v("<style>")]),e._v("。然后，它将使用相应的 "),a("code",[e._v("loader")]),e._v(" 处理每个部分的内容，例如使用 "),a("code",[e._v("HTML-loader")]),e._v(" 处理模板部分，使用 "),a("code",[e._v("Babel-loader")]),e._v(" 处理 "),a("code",[e._v("JavaScript")]),e._v(" 部分，使用 "),a("code",[e._v("CSS-loader")]),e._v(" 处理样式部分。")])]),e._v(" "),a("li",[a("p",[e._v("将处理后的模块组合\n"),a("code",[e._v("Vue-loader")]),e._v(" 将处理后的三个模块组合成一个 "),a("code",[e._v("JavaScript")]),e._v(" 模块，每个模块对应于一个 "),a("code",[e._v(".vue")]),e._v(" 文件。该模块可以由 "),a("code",[e._v("Webpack")]),e._v(" 进一步处理，例如打包和优化。")])]),e._v(" "),a("li",[a("p",[e._v("解析依赖关系\n"),a("code",[e._v("Vue-loader")]),e._v(" 会递归解析每个单文件组件所引用的其他组件和模块，以确定它们之间的依赖关系。这些依赖关系可以由 "),a("code",[e._v("Webpack")]),e._v(" 进行打包和优化。")])]),e._v(" "),a("li",[a("p",[e._v("预编译模板\n"),a("code",[e._v("Vue-loader")]),e._v(" 还可以使用 "),a("code",[e._v("Vue")]),e._v(" 的模板编译器（Vue Template Compiler）对模板进行预编译，以提高运行时性能。预编译模板可以缓存并重复使用，从而减少每次渲染时的开销。")])])]),e._v(" "),a("p",[e._v("综上所述，"),a("code",[e._v("Vue-loader")]),e._v(" 的主要作用是将 "),a("code",[e._v("Vue")]),e._v(" 单文件组件转换为 "),a("code",[e._v("JavaScript")]),e._v(" 模块，并将其与其他模块组合在一起，以便 "),a("code",[e._v("Webpack")]),e._v(" 进一步处理和优化。"),a("code",[e._v("Vue-loader")]),e._v(" 还可以预编译模板以提高性能，并解析单文件组件之间的依赖关系。")]),e._v(" "),a("h2",{attrs:{id:"vue-loader-相关问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-loader-相关问题"}},[e._v("#")]),e._v(" "),a("code",[e._v("vue-loader")]),e._v(" 相关问题")]),e._v(" "),a("ol",[a("li",[a("strong",[e._v("为什么 "),a("code",[e._v("vue-loader")]),e._v(" 要配合 "),a("code",[e._v("VueLoaderPlugin")]),e._v(" 插件一起使用？")])])]),e._v(" "),a("blockquote",[a("p",[e._v("它的职责是将你定义过的其它规则复制并应用到 "),a("code",[e._v(".vue")]),e._v(" 文件里相应语言的块。例如，如果你有一条匹配 "),a("code",[e._v("/\\.js$/")]),e._v(" 的规则，那么它会应用到 "),a("code",[e._v(".vue")]),e._v(" 文件里的 "),a("code",[e._v("<script>")]),e._v(" 块。")])]),e._v(" "),a("p",[a("code",[e._v("Vue-loader")]),e._v(" 需要与 "),a("code",[e._v("VueLoaderPlugin")]),e._v(" 插件一起使用，因为 "),a("code",[e._v("VueLoaderPlugin")]),e._v(" 插件主要作用是将 "),a("code",[e._v("Vue-loader")]),e._v(" 产生的一些运行时代码提取出来，以便在打包时优化生成的代码。在使用 "),a("code",[e._v("Vue-loader")]),e._v(" 的过程中，会产生一些运行时的代码，比如渲染函数、静态渲染函数等。这些代码可能会被打包进最终的输出文件中，造成代码体积过大，影响性能。为了避免这种情况，需要使用 "),a("code",[e._v("VueLoaderPlugin")]),e._v(" 插件来将这些运行时代码提取出来，生成独立的文件，从而减小最终的输出文件体积。除了提取运行时代码，"),a("code",[e._v("VueLoaderPlugin")]),e._v(" 插件还有其他作用，例如将一些只在开发环境中使用的功能去掉，减小输出文件的体积，或者将 "),a("code",[e._v("Vue-loader")]),e._v(" 的配置与 "),a("code",[e._v("webpack")]),e._v(" 的配置分离，以便更好地管理配置等。因此，为了更好地使用 "),a("code",[e._v("Vue-loader")]),e._v("，需要与 "),a("code",[e._v("VueLoaderPlugin")]),e._v(" 插件一起使用。这样可以优化打包后的输出文件，减小体积，提高性能。")])])}),[],!1,null,null,null);a.default=r.exports}}]);